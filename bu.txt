def check_answer(answerInputByPlayer, correctAnswer, riddleIndex):
    if correctAnswer == answerInputByPlayer:
        flash("you are CORRECT answer {}, next question.".format(correctAnswer))
        for player in playersInfo:
            if player['username'] == session['username']:
                player['score'] += 1
                leaderboard.update({session['username']:player['score']})
                riddleIndex += 1
                riddle = get_next_riddle(riddleIndex) #returns a dictionary NEXT RIDDLE
                return riddle
    else:
        flash("WRONG try again, one more attempt")
        player['attempts'] += 1
        riddleIndex += 1
        riddle = get_next_riddle(riddleIndex) #returns a dictionary NEXT RIDDLE
        # for player in playersInfo:
            # if player['username'] == session['username']:
                # player['attempts'] += 1
                # print("A")
                # if player['attempts'] == 2:
                #     player['attempts'] = 0 #reset attempts back to 0
                #     riddleIndex += 1
                #     riddle = get_next_riddle(riddleIndex) #returns a dictionary NEXT RIDDLE
                #     print("B")
                #     return riddle                
            # return
    return riddle
    
    
    
    ==========================================================================
13.25

import os
from riddlesList import content
from flask import Flask, render_template, request, flash, redirect, url_for, session

riddles = content()

app = Flask(__name__)
app.secret_key = 'The cat is on the roof'
usernames = []
leaderboard = {}
playersInfo = []

def create_player(username):
    playersInfo.append({"username":username, "score":0, "attempts":0})
    return



def get_next_riddle(riddleIndex):
    nextRiddle = riddles[riddleIndex]
    return nextRiddle


def check_answer(answerInputByPlayer, correctAnswer, riddleIndex):
    for player in playersInfo:
        if player['username'] == session['username']:
            if correctAnswer == answerInputByPlayer:
                flash("you are CORRECT. Answer:  {}, next question.".format(correctAnswer))
                player['score'] += 1
                leaderboard.update({session['username']:player['score']})
                riddleIndex += 1
                riddle = get_next_riddle(riddleIndex) #returns a dictionary NEXT RIDDLE
                print("riddleIndex: ", riddleIndex,   "riddleNumber: ", riddle['Number'])
                return riddle
            else:
                flash("WRONG try again, one more attempt")
                player['attempts'] += 1
                # if player['attempts'] == 2:
                #     player['attempts'] = 0 #reset attempts back to 0
                #     riddleIndex += 1
                #     riddle = get_next_riddle(riddleIndex) #returns a dictionary NEXT RIDDLE
                #     print("B")
                #     return riddle
                # for player in playersInfo:
                    # if player['username'] == session['username']:
                        # player['attempts'] += 1
                        # print("A")
                        # if player['attempts'] == 2:
                        #     player['attempts'] = 0 #reset attempts back to 0
                        #     riddleIndex += 1
                        #     riddle = get_next_riddle(riddleIndex) #returns a dictionary NEXT RIDDLE
                        #     print("B")
                        #     return riddle                
                    # return
            return riddle


@app.route('/play', methods=["GET", "POST"])
def play():
    riddle = get_next_riddle(0) #returns a dictionary FIRST RIDDLE
    print("RNumber: ", riddle['Number'])
    if riddle['Number'] == 1:
        if request.method == "POST":
            userAnswer = request.form['riddleAnswer'].title()
            riddle = check_answer(userAnswer, riddle['Answer'], riddles.index(riddle))
    else:    
        if request.method == "POST":
            userAnswer = request.form['riddleAnswer'].title()
            flash("Players answer: {}".format(userAnswer))
            flash("Correct answer: {}".format(riddle["Answer"]))
            print(riddle["Answer"])
            riddle = check_answer(userAnswer, riddle['Answer'], riddles.index(riddle))
    return render_template("play.html", page_title="Riddle-Me-This - Play", username=session['username'], leaderboard=leaderboard, 
                                    players=playersInfo, usernames=usernames, 
                                    riddleQ=riddle['Question'], riddleA=riddle['Answer'], riddleNumber=riddle['Number'])                                

@app.route('/', methods=["GET", "POST"])
def index():
    if request.method == "POST":
        username = request.form['addUsername'].title()
        if username not in usernames:
            usernames.append(username)
            flash("Success {}, your name is added. Her is your first question".format(username))
            session['username'] = username
            leaderboard.update({username:0})
            create_player(username)
            return redirect('play')
        else:
            flash("Fail {}, Name taken try again".format(username))     
    return render_template("index.html", page_title="Riddle-Me-This - Home", usernames=usernames, leaderboard=leaderboard)



if __name__ == '__main__':
    app.run(host=os.getenv('IP'), port=int(os.getenv('PORT')), debug=True)
    