{% extends 'base.html' %} {% block page_content_leaderboard %}

<div id="messages-container">
    <div class="alert-container">
        {% with messages = get_flashed_messages() %} {% if messages %} {% for message in messages %}
        <div class="alert alert-warning">
            <button type="button" class="close" data-dismiss="alert">&times;</button> {{message}}
        </div> {% endfor %} {% endif %} {% endwith %}
    </div>
</div>
<div class="leaderboard-list">
    <div class="leaderboard-row leaderboard-row-header">
        <div class="leaderboard-col leaderboard-col-header">Position</div>
        <div class="leaderboard-col leaderboard-col-header">Player</div>
        <div class="leaderboard-col leaderboard-col-header">Score</div>
        <div class="leaderboard-col leaderboard-col-header">Date</div>
        <div style="clear:both;"></div>
    </div>
    {% for rows in sorted_leaderboard_list %}
    <div class="leaderboard-row">
        <div class="leaderboard-col leaderboard-col-data">{{ loop.index }}</div>
        <div class="leaderboard-col leaderboard-col-data">{{ rows.username }}</div>
        <div class="leaderboard-col leaderboard-col-data">{{ rows.score }}</div>
        <div class="leaderboard-col leaderboard-col-data time">{{ rows.timestamp }}</div>
        <div style="clear:both;"></div>
    </div>
    {% endfor %}
</div>
{% endblock %}

<!-- Debug area. Hidden if debug set to False -->
{% block content_debug %}
<div>
    <h2>LeaderBoard</h2>
    {% for leader in leaderboard %}
    <p>
        username: {{ leader['username'] }}<br> score: {{ leader['score'] }}
    </p>
    {% endfor %}
    <h2>session</h2>
    {{session}}
</div>

</div>
{% endblock %}
